{"version":3,"sources":["components/Filter.js","components/Number.js","components/ListNumbers.js","components/Notification.js","services/personsSer.js","components/PersonForm.js","App.js","index.js"],"names":["Filter","filterString","setFilterString","onChange","event","target","value","Number","person","name","number","ListNumbers","persons","handleDeletion","filter","toLowerCase","includes","map","onClick","Notification","notificationMessage","style","color","isAlert","background","fontSize","borderStyle","borderRadius","padding","marginBottom","className","message","baseUrl","axios","get","then","response","data","newObject","post","personId","delete","newPerson","put","PersonForm","nameState","numberState","personsState","notificationState","displayNotification","setNotificationMessage","setTimeout","setNewName","newName","setNewNumber","newNumber","preventDefault","personName","some","p","oldPerson","find","window","confirm","personsSer","id","returnedPerson","setPersons","catch","error","updatePersonNumber","concat","addPerson","type","App","useState","useEffect","returnedPersons","personToDelete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9cc48339.chunk.js","sourcesContent":["import React from \"react\"\n\nfunction Filter({filterString, setFilterString}){\n  const handleFilterChange = (event) => setFilterString(event.target.value);\n\n  return(\n    <div>\n      <input onChange={handleFilterChange} value={filterString} />\n    </div>\n    )\n}\n\nexport default Filter\n","import React from \"react\";\n\nconst Number = ({ person }) => (\n  <p>\n    {person.name} {person.number}\n  </p>\n);\n\nexport default Number;\n","import React from \"react\";\nimport Number from \"./Number\";\n\nfunction ListNumbers({ persons, filterString, handleDeletion }) {\n\n  return (\n    <div>\n      {persons\n        .filter((person) =>\n          person.name.toLowerCase().includes(filterString.toLowerCase())\n        )\n        .map((person) => (\n          <div key={person.name} >\n            <Number person={person} />\n            <button onClick={() => handleDeletion(person)}>delete entry</button>\n          </div>\n        ))}\n    </div>\n  );\n}\n\nexport default ListNumbers;\n","import React from \"react\";\n\nconst Notification = ({ notificationMessage }) => {\n  if (notificationMessage=== null) {\n    return null;\n  }\n\n  const style = {\n    color: notificationMessage.isAlert ? \"red\" : \"green\",\n    background: \"lightgrey\",\n    fontSize: 20,\n    borderStyle: \"solid\",\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n  };\n\n  return (\n    <div style={style} className=\"notification\">\n      {notificationMessage.message}\n    </div>\n  );\n};\n\nexport default Notification;\n","import axios from \"axios\";\nconst baseUrl = \"/api/people\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst deletePerson = (personId) => {\n  const request = axios.delete(`${baseUrl}/${personId}`);\n  return request.then((response) => response);\n};\n\nconst updatePerson = (personId, newPerson) => {\n  const request = axios.put(`${baseUrl}/${personId}`, newPerson);\n  return request.then((response) => response.data);\n};\n\nexport default { getAll, create, deletePerson, updatePerson };\n","import React from \"react\";\nimport personsSer from \"../services/personsSer\";\n\nconst PersonForm = ({\n  nameState,\n  numberState,\n  personsState,\n  notificationState,\n}) => {\n  const handleNameChange = (event) => nameState.setNewName(event.target.value);\n  const handleNumberChange = (event) =>\n    numberState.setNewNumber(event.target.value);\n\n  const personExists = (personName) =>\n    personsState.persons.some((p) => p.name === personName);\n\n  const displayNotification = (message, isAlert) => {\n    notificationState.setNotificationMessage({ message, isAlert });\n    setTimeout(() => {\n      notificationState.setNotificationMessage(null);\n    }, 5000);\n  };\n\n  const addPerson = (newPerson) => {\n    personsSer\n      .create(newPerson)\n      .then((returnedPerson) => {\n        personsState.setPersons(personsState.persons.concat(returnedPerson));\n        displayNotification(`Added ${returnedPerson.name}`);\n      })\n      .catch((error) => displayNotification(error.response.data.error, true));\n  };\n\n  const updatePersonNumber = (newPerson) => {\n    const oldPerson = personsState.persons.find(\n      (p) => p.name === newPerson.name\n    );\n\n    if (window.confirm(`update ${oldPerson.name} number?`)) {\n      personsSer\n        .updatePerson(oldPerson.id, { ...oldPerson, number: newPerson.number })\n        .then((returnedPerson) => {\n          personsState.setPersons(\n            personsState.persons.map((person) =>\n              person.id === returnedPerson.id ? returnedPerson : person\n            )\n          );\n          displayNotification(`Updated ${returnedPerson.name}`, false);\n        })\n        .catch((error) => {\n          displayNotification(\n            `Information of ${oldPerson.name} has been already been removed from the server`,\n            true\n          );\n        });\n    }\n  };\n\n  const handleAddPerson = (event) => {\n    event.preventDefault();\n\n    const newPerson = {\n      name: nameState.newName,\n      number: numberState.newNumber,\n    };\n\n    personExists(newPerson.name)\n      ? updatePersonNumber(newPerson)\n      : addPerson(newPerson);\n  };\n\n  return (\n    <div>\n      <form>\n        <div>\n          name: <input onChange={handleNameChange} value={nameState.newName} />\n        </div>\n        <div>\n          number:{\" \"}\n          <input onChange={handleNumberChange} value={numberState.newNumber} />\n        </div>\n        <div>\n          <button onClick={handleAddPerson} type=\"submit\">\n            add\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default PersonForm;\n","import React, { useEffect, useState } from \"react\";\nimport Filter from \"./components/Filter\";\nimport ListNumbers from \"./components/ListNumbers\";\nimport Notification from \"./components/Notification\";\nimport PersonForm from \"./components/PersonForm\";\nimport personsSer from \"./services/personsSer\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filterString, setFilterString] = useState(\"\");\n  const [notificationMessage, setNotificationMessage] = useState(null);\n\n  useEffect(() => {\n    personsSer.getAll().then((returnedPersons) => {\n      setPersons(returnedPersons);\n    });\n  }, []);\n\n  const handleDeletion = (personToDelete) => {\n    if (window.confirm(`delete ${personToDelete.name} ?`)) {\n      personsSer.deletePerson(personToDelete.id).then(() => {\n        setPersons(persons.filter((person) => person.id !== personToDelete.id));\n      });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notificationMessage={notificationMessage} />\n      <h3>Filter</h3>\n      <Filter filterString={filterString} setFilterString={setFilterString} />\n      <h3>Add new</h3>\n      <PersonForm\n        nameState={{ newName, setNewName }}\n        numberState={{ newNumber, setNewNumber }}\n        personsState={{ persons, setPersons }}\n        notificationState={{ notificationMessage, setNotificationMessage }}\n      />\n      <h3>Numbers</h3>\n      <ListNumbers\n        persons={persons}\n        filterString={filterString}\n        handleDeletion={handleDeletion}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}